{"version":3,"sources":["components/UI/Modal/MyModal.module.css","components/UI/Button/MyButton.module.css","components/UI/Loader/Loader.module.css","components/UI/Input/MyInput.module.css","components/UI/Select/MySelect.module.css","context/context.js","components/UI/Button/MyButton.jsx","components/UI/Navbar/Navbar.jsx","API/PostService.jsx","components/UI/Loader/Loader.jsx","hooks/useFetching.js","components/UI/Input/MyInput.jsx","components/UI/Select/MySelect.jsx","components/PostFilter.jsx","components/PostForm.jsx","components/PostItem.jsx","components/PostList.jsx","components/UI/Modal/MyModal.jsx","hooks/usePosts.js","utils/pages.js","components/UI/Pagination/Pagination.jsx","pages/Error.jsx","router/routs.js","pages/About.jsx","pages/Posts.jsx","hooks/useObserver.js","pages/PostIdPage.jsx","pages/Login.jsx","components/AppRouter.jsx","App.js","index.js"],"names":["module","exports","AuthContext","createContext","MyButton","children","props","className","classes","my_btn","Navbar","setIsAuth","useContext","onClick","localStorage","removeItem","to","PostService","limit","page","axios","get","params","_limit","_page","response","id","Loader","loader","useFetching","callback","useState","isLoading","setIsLoading","error","setError","a","message","MyInput","React","forwardRef","ref","my_input","MySelect","options","defaultValue","value","onChange","my_select","event","target","disabled","map","option","name","PostFilter","filter","setFilter","query","e","placeholder","sort","selectedSort","PostForm","create","title","body","post","setPost","type","preventDefault","newPost","Date","now","PostItem","router","useHistory","push","remove","PostList","posts","length","TransitionGroup","index","CSSTransition","timeout","classNames","number","MyModal","visible","setVisible","rootClasses","my_modal","active","join","my_modal_content","stopPropagation","usePosts","sortedPosts","useMemo","b","localeCompare","useSortedPosts","toLocaleLowerCase","includes","getPageCount","totalCount","Math","ceil","Pagination","totalPages","changePage","pagesArray","result","i","getPagesArray","p","privateRoutes","path","component","exact","setPosts","modal","setModal","sortedAndSearchPosts","setTotalPages","setPage","lastElement","useRef","getAll","data","headers","fetchPosts","isPostsLoading","postError","canLoad","observer","useEffect","current","disconnect","IntersectionObserver","entries","isIntersecting","observe","useObserver","style","height","background","display","justifyContent","marginTop","useParams","comments","setComments","getById","fetchPostById","getCommentsByPostId","fetchComments","isComLoading","marginBottom","comm","email","publicRoutes","color","on","onSubmit","setItem","AppRouter","isAuth","route","App","getItem","Provider","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a81a2f0a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"my_modal\":\"MyModal_my_modal__1P3qQ\",\"active\":\"MyModal_active__1E6R5\",\"my_modal_content\":\"MyModal_my_modal_content__3vsyN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"my_btn\":\"MyButton_my_btn__3P_kR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__2wKAc\",\"rotate\":\"Loader_rotate__2_CLq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"my_input\":\"MyInput_my_input__3YjcJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"my_select\":\"MySelect_my_select__1DOV2\"};","import { createContext } from 'react'\r\n\r\n\r\n\r\nexport const AuthContext = createContext(null)","import React from 'react'\r\nimport classes from './MyButton.module.css'\r\n\r\nfunction MyButton({children, ...props}) {\r\n    return (\r\n        <button {...props} className={classes.my_btn}>\r\n            {children}\r\n        </button>\r\n    )\r\n}\r\n\r\nexport default MyButton\r\n","import React, { useContext } from 'react'\r\nimport { Link } from \"react-router-dom\";\r\nimport { AuthContext } from '../../../context/context';\r\nimport MyButton from '../Button/MyButton';\r\n\r\nexport const Navbar = () => {\r\n\r\n\tconst {setIsAuth} = useContext(AuthContext)\r\n\r\n\tconst logout = () => {\r\n        setIsAuth(false);\r\n        localStorage.removeItem(\"auth\");\r\n    };\r\n\r\n    return (\r\n        <div className=\"navbar\">\r\n\t\t\t<MyButton onClick={logout}>\r\n\t\t\t\tВыйти\r\n\t\t\t</MyButton>\r\n            <div className=\"navbar__links\">\r\n                <Link to=\"/about\">О сайте</Link>\r\n                <Link to=\"/posts\">Блог</Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import axios from \"axios\";\r\n\r\nexport default class PostService {\r\n    static async getAll(limit = 10, page = 1) {\r\n\t\tconst response = await axios.get(\r\n\t\t\t\"https://jsonplaceholder.typicode.com/posts\", {\r\n\t\t\t\tparams:{\r\n\t\t\t\t\t_limit: limit,\r\n\t\t\t\t\t_page: page\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t);\r\n\t\treturn response;\r\n    }\r\n\r\n    static async getById(id) {\r\n\t\tconst response = await axios.get(\r\n\t\t\t\"https://jsonplaceholder.typicode.com/posts/\" + id\r\n\t\t);\r\n\t\treturn response;\r\n    }\r\n\r\n\tstatic async getCommentsByPostId(id){\r\n\t\tconst response = await axios.get(\r\n            `https://jsonplaceholder.typicode.com/posts/${id}/comments`\r\n        );\r\n        return response;\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport classes from './Loader.module.css'\r\n\r\nconst Loader = () => {\r\n\treturn <div className={classes.loader}></div>;\r\n}\r\n\r\nexport default Loader\r\n\r\n","import { useState } from \"react\";\r\n\r\nexport const useFetching = (callback) => {\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [error, setError] = useState(\"\");\r\n\r\n    const fetching = async (...args) => {\r\n        try {\r\n            setIsLoading(true);\r\n            await callback(...args);\r\n        } catch (e) {\r\n            setError(e.message);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    return [fetching, isLoading, error];\r\n};\r\n","import React from 'react'\r\nimport classes from './MyInput.module.css'\r\n\r\nconst MyInput = React.forwardRef((props, ref) => {\r\n    return (\r\n        <input ref={ref} className={classes.my_input} {...props} />\r\n    )\r\n})\r\n\r\nexport default MyInput\r\n","import React from 'react'\r\nimport classes from \"./MySelect.module.css\";\r\n\r\nexport const MySelect = ({options, defaultValue, value, onChange}) => {\r\n\treturn (\r\n        <select\r\n            className={classes.my_select}\r\n            value={value}\r\n            onChange={(event) => onChange(event.target.value)}\r\n        >\r\n            <option disabled value=\"\">\r\n                {defaultValue}\r\n            </option>\r\n            {options.map((option) => (\r\n                <option key={option.value} value={option.value}>\r\n                    {option.name}\r\n                </option>\r\n            ))}\r\n        </select>\r\n    );\r\n}\r\n","import React from 'react'\r\nimport MyInput from \"./UI/Input/MyInput\";\r\nimport { MySelect } from \"./UI/Select/MySelect\";\r\n\r\nexport const PostFilter = ({filter, setFilter}) => {\r\n\treturn (\r\n        <div className=\"search\">\r\n            <MyInput\r\n                value={filter.query}\r\n                onChange={(e) => setFilter({...filter, query: e.target.value})}\r\n                placeholder=\"Поиск...\"\r\n            />\r\n            <MySelect\r\n                className=\"my_select\"\r\n                value={filter.sort}\r\n                onChange={selectedSort => setFilter({...filter, sort: selectedSort})}\r\n                defaultValue=\"Сортировка \"\r\n                options={[\r\n                    { value: \"title\", name: \"По названию\" },\r\n                    { value: \"body\", name: \"По описанию\" },\r\n                ]}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n","import React, {useState} from 'react'\r\nimport MyButton from \"./UI/Button/MyButton\";\r\nimport MyInput from \"./UI/Input/MyInput\";\r\n\r\nconst PostForm = ({create}) => {\r\n\r\n    const [post, setPost] = useState({ title: \"\", body: \"\" });\r\n\r\n    const addNewPost = (e) => {\r\n        e.preventDefault();\r\n        const newPost={\r\n            ...post, id: Date.now()\r\n        }\r\n        create(newPost)\r\n        setPost({ title: \"\", body: \"\" });\r\n    };\r\n\r\n    return (\r\n        <form>\r\n            <MyInput\r\n                value={post.title}\r\n                onChange={(e) =>\r\n                    setPost({ ...post, title: e.target.value })\r\n                }\r\n                type=\"text\"\r\n                placeholder=\"Название поста\"\r\n            />\r\n            <MyInput\r\n                value={post.body}\r\n                onChange={(e) => setPost({ ...post, body: e.target.value })}\r\n                type=\"text\"\r\n                placeholder=\"Описание поста\"\r\n            />\r\n            <MyButton onClick={addNewPost}>Создать пост</MyButton>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PostForm\r\n","import React from 'react'\r\nimport { useHistory } from 'react-router';\r\nimport MyButton from \"./UI/Button/MyButton\";\r\n\r\nconst PostItem = (props) => {\r\n\tconst router = useHistory()\r\n\r\n\treturn (\r\n        <div className=\"post\">\r\n            <div className=\"post__content\">\r\n                <strong>{props.post.id}. {props.post.title}</strong>\r\n                <div>{props.post.body}</div>\r\n            </div>\r\n            <div className=\"post__btns\">\r\n                <MyButton onClick={() => router.push(`/posts/${props.post.id}`)}>\r\n\t\t\t\t\tОткрыть\r\n\t\t\t\t</MyButton>\r\n                <MyButton onClick={() => props.remove(props.post)}>\r\n\t\t\t\t\tУдалить\r\n\t\t\t\t</MyButton>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PostItem\r\n","import React from 'react'\r\nimport { CSSTransition, TransitionGroup } from 'react-transition-group'\r\nimport PostItem from './PostItem'\r\n\r\nfunction PostList({posts, title, remove}) {\r\n\tif (!posts.length) {\r\n\t\treturn (\r\n\t\t\t<h3>Посты не найдены!</h3>\r\n\t\t)\r\n\t}\r\n    return (\r\n        <div className=\"main\">\r\n            <h2>{title}</h2>\r\n            <TransitionGroup>\r\n                {posts.map((post, index) => (\r\n                    <CSSTransition\r\n\t\t\t\t\t\tkey={post.id}\r\n\t\t\t\t\t\ttimeout={500}\r\n\t\t\t\t\t\tclassNames=\"post\"\r\n\t\t\t\t\t>\r\n                        <PostItem\r\n                            remove={remove}\r\n                            number={index + 1}\r\n                            post={post}\r\n                        />\r\n                    </CSSTransition>\r\n                ))}\r\n            </TransitionGroup>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PostList\r\n","import React from 'react'\r\nimport classes from \"./MyModal.module.css\";\r\n\r\nexport const MyModal = ({children, visible, setVisible}) => {\r\n\r\n\tconst rootClasses = [classes.my_modal]\r\n\r\n\tif (visible) {\r\n\t\trootClasses.push(classes.active)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={rootClasses.join(' ')} onClick={() => setVisible(false)}>\r\n\t\t\t<div className={classes.my_modal_content} onClick={(e) => e.stopPropagation()}>\r\n\t\t\t\t{children}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import { useMemo } from \"react\";\r\n\r\nexport const useSortedPosts = (posts, sort) => {\r\n\tconst sortedPosts = useMemo(() => {\r\n\t\tif (sort) {\r\n\t\t\treturn [...posts].sort((a, b) => a[sort].localeCompare(b[sort]))\r\n\t\t}\r\n\t\treturn posts\r\n\t}, [sort, posts])\r\n\r\n\treturn sortedPosts\r\n}\r\n\r\nexport const usePosts =(posts, sort, query) =>{\r\n\tconst sortedPosts = useSortedPosts(posts, sort)\r\n\tconst sortedAndSearchPosts = useMemo(() => {\r\n\t\treturn sortedPosts.filter(post => post.title.toLocaleLowerCase().includes(query))\r\n\t}, [query, sortedPosts])\r\n\r\n\treturn sortedAndSearchPosts\r\n}","export const getPageCount = (totalCount, limit) => {\r\n    return Math.ceil(totalCount / limit);\r\n};\r\n\r\nexport const getPagesArray = (totalPages) => {\r\n    let result = [];\r\n    for (let i = 0; i < totalPages; i++) {\r\n        result.push(i + 1);\r\n    }\r\n    return result;\r\n};\r\n","import React from 'react';\r\nimport {getPagesArray} from \"../../../utils/pages\";\r\n\r\nexport const Pagination = ({totalPages, page, changePage}) => {\r\n    let pagesArray = getPagesArray(totalPages);\r\n    return (\r\n        <div className=\"pagination\">\r\n            {pagesArray.map(p =>\r\n                <span\r\n                    onClick={() => changePage(p)}\r\n                    key={p}\r\n                    className={page === p ? 'page current' : 'page'}\r\n                >\r\n                    {p}\r\n                </span>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n","import React from 'react'\r\n\r\nexport const Error = () => {\r\n    return (\r\n        <div className=\"main\">\r\n            <h2 style={{color: 'red'}}>\r\n                Вы перешли на несуществующую страницу\r\n            </h2>\r\n        </div>\r\n    )\r\n}\r\n","import { About } from \"../pages/About\";\r\nimport { PostIdPage } from \"../pages/PostIdPage\";\r\nimport { Posts } from \"../pages/Posts\";\r\nimport { Error } from \"../pages/Error\";\r\nimport { Login } from \"../pages/Login\";\r\n\r\nexport const privateRoutes = [\r\n\t{path: '/about', component: About, exact: true},\r\n\t{path: '/posts', component: Posts, exact: true},\r\n\t{path: '/posts/:id', component: PostIdPage, exact: true},\r\n\t\r\n\t\r\n]\r\n\r\nexport const publicRoutes =[\r\n\t{path: '/error', component: Error, exact: true},\r\n\t{path: '/login', component: Login, exact: true}\r\n]","import React from 'react'\r\n\r\nexport const About = () => {\r\n    return (\r\n        <div className=\"main\">\r\n            <h2>\r\n                Это приложение создано в качестве освоения (извиняюсь за тавтологию) основ React.\r\n            </h2>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { PostFilter } from \"../components/PostFilter\";\r\nimport PostForm from \"../components/PostForm\";\r\nimport PostList from \"../components/PostList\";\r\nimport MyButton from \"../components/UI/Button/MyButton\";\r\nimport { MyModal } from \"../components/UI/Modal/MyModal\";\r\nimport { usePosts } from \"../hooks/usePosts\";\r\n\r\nimport PostService from \"../API/PostService\";\r\nimport Loader from \"../components/UI/Loader/Loader\";\r\nimport { useFetching } from \"../hooks/useFetching\";\r\nimport { getPageCount } from \"../utils/pages\";\r\nimport { Pagination } from \"../components/UI/Pagination/Pagination\";\r\nimport { useObserver } from \"../hooks/useObserver\";\r\n\r\nexport function Posts() {\r\n    const [posts, setPosts] = useState([\r\n        { id: 1, title: \"Javascript 1\", body: \"Description full news\" },\r\n        { id: 2, title: \"Pyton 2\", body: \" full news\" },\r\n        { id: 3, title: \"Delphi 3\", body: \" news\" },\r\n    ]);\r\n\r\n    const [filter, setFilter] = useState({ sort: \"\", query: \"\" });\r\n    const [modal, setModal] = useState(false);\r\n    const sortedAndSearchPosts = usePosts(posts, filter.sort, filter.query);\r\n\r\n    const [totalPages, setTotalPages] = useState(0);\r\n    const [limit, setLimit] = useState(10);\r\n    const [page, setPage] = useState(1);\r\n\r\n\tconst lastElement = useRef()\r\n\t\r\n\r\n    const [fetchPosts, isPostsLoading, postError] = useFetching(\r\n        async (limit, page) => {\r\n            const response = await PostService.getAll(limit, page);\r\n            setPosts([...posts, ...response.data]);\r\n            const totalCount = response.headers[\"x-total-count\"];\r\n            setTotalPages(getPageCount(totalCount, limit));\r\n        }\r\n    );\r\n\r\n\tuseObserver(lastElement, page < totalPages, isPostsLoading, () =>{\r\n\t\tsetPage(page + 1)\r\n\t})\r\n\r\n    useEffect(() => {\r\n        fetchPosts(limit, page);\r\n    }, [page]);\r\n\r\n    const createPost = (newPost) => {\r\n        setPosts([...posts, newPost]);\r\n        setModal(false);\r\n    };\r\n\r\n    const removePost = (post) => {\r\n        setPosts(posts.filter((p) => p.id !== post.id));\r\n    };\r\n\r\n\tconst changePage = (page) => {\r\n        setPage(page);\r\n        fetchPosts(limit, page);\r\n    };\r\n\r\n    return (\r\n        <div className=\"main\">\r\n            <div className=\"search\">\r\n                <MyButton onClick={() => setModal(true)}>Создать пост</MyButton>\r\n                <MyButton onClick={fetchPosts}>Получить посты</MyButton>\r\n            </div>\r\n            <hr />\r\n            <MyModal visible={modal} setVisible={setModal}>\r\n                <PostForm create={createPost} />\r\n            </MyModal>\r\n            <PostFilter filter={filter} setFilter={setFilter} />\r\n            {postError && <h2>Произошла ошибка ${postError}</h2>}\r\n\r\n            <PostList\r\n                remove={removePost}\r\n                posts={sortedAndSearchPosts}\r\n                title=\"Список постов 1\"\r\n            />\r\n\t\t\t<div ref={lastElement} style={{height: 20, background: 'red'}}></div>\r\n\r\n            {isPostsLoading && (\r\n                <div\r\n                    style={{\r\n                        display: \"flex\",\r\n                        justifyContent: \"center\",\r\n                        marginTop: \"50px\",\r\n                    }}\r\n                >\r\n                    <Loader />\r\n                </div>\r\n            )}\r\n\r\n            <Pagination\r\n                page={page}\r\n                changePage={changePage}\r\n                totalPages={totalPages}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n","import {useEffect, useRef} from 'react'\r\n\r\nexport const useObserver = (ref, canLoad, isLoading, callback) =>{\r\n\tconst observer = useRef()\r\n\tuseEffect(() => {\r\n\t\tif (isLoading) return;\r\n\t\tif (observer.current) observer.current.disconnect();\r\n\t\tlet cb = function (entries, observer) {\r\n\t\t\tif (entries[0].isIntersecting && canLoad) {\r\n\t\t\t\tcallback()\r\n\t\t\t}\r\n        };\r\n        observer.current = new IntersectionObserver(cb);\r\n        observer.current.observe(ref.current);\r\n\t}, [isLoading])\r\n}","import React, { useEffect, useState } from 'react'\r\nimport { useParams } from 'react-router';\r\nimport PostService from '../API/PostService';\r\nimport Loader from '../components/UI/Loader/Loader';\r\nimport { useFetching } from '../hooks/useFetching';\r\n\r\nexport const PostIdPage = () => {\r\n\r\n\tconst params = useParams()\r\n\tconst [post, setPost] = useState({})\r\n\tconst [comments, setComments] = useState([])\r\n\tconst [fetchPostById, isLoading] = useFetching(async(id) =>{\r\n\t\tconst response = await PostService.getById(id)\r\n\t\tsetPost(response.data)\r\n\t})\r\n\tconst [fetchComments, isComLoading] = useFetching(async(id) =>{\r\n\t\tconst response = await PostService.getCommentsByPostId(id)\r\n\t\tsetComments(response.data)\r\n\t})\r\n\t\r\n\tuseEffect(() => {\r\n\t\tfetchPostById(params.id)\r\n\t\tfetchComments(params.id)\r\n\t},[])\r\n\r\n\treturn (\r\n        <div className=\"main\">\r\n            {isLoading ? (\r\n                <Loader />\r\n            ) : (\r\n                <h2>\r\n                    {post.id}. {post.title}\r\n                </h2>\r\n            )}\r\n            <br />\r\n            <div>{post.body}</div>\r\n            <hr />\r\n            <h4 style={{marginBottom: 10}}>Комментарии</h4>\r\n            {isComLoading ? (\r\n                <Loader />\r\n            ) : (\r\n                <div>\r\n                    {comments.map((comm) => (\r\n                        <div className=\"comm\">\r\n\t\t\t\t\t\t\t<div key={comm.id} className=\"comm_header\">\r\n\t                            <h5>{comm.name}</h5>\r\n\t                            <h5>{comm.email}</h5>\r\n\t\t\t\t\t\t\t</div>\r\n                            <div className=\"comm_body\">{comm.body}</div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","import React, { useContext } from 'react'\r\nimport MyButton from '../components/UI/Button/MyButton'\r\nimport MyInput from '../components/UI/Input/MyInput'\r\nimport { AuthContext } from '../context/context'\r\n\r\nexport const Login = () => {\r\n\r\n\tconst {setIsAuth} = useContext(AuthContext)\r\n\r\n\tconst login = event => {\r\n\t\tevent.preventDefault();\r\n\t\tsetIsAuth(true)\r\n\t\tlocalStorage.setItem('auth', 'true')\r\n\t}\r\n\r\n\treturn (\r\n        <div className=\"main\">\r\n            <h2>Страница для логина</h2>\r\n            <form on onSubmit={login}>\r\n                <MyInput\r\n                    type=\"text\"\r\n                    name=\"\"\r\n                    id=\"\"\r\n                    placeholder=\"Введите логин\"\r\n                />\r\n                <MyInput\r\n                    type=\"password\"\r\n                    name=\"\"\r\n                    id=\"\"\r\n                    placeholder=\"Введите пароль\"\r\n                />\r\n                <MyButton>Войти</MyButton>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n","import React, {useContext} from 'react'\r\nimport {\r\n    Switch,\r\n    Route,\r\n    Redirect,\r\n} from \"react-router-dom\";\r\nimport { publicRoutes, privateRoutes } from \"../router/routs\";\r\nimport { AuthContext } from '../context/context';\r\nimport Loader from './UI/Loader/Loader';\r\n\r\nexport const AppRouter = () => {\r\n\tconst {isAuth,isLoading} = useContext(AuthContext)\r\n\r\n\tif (isLoading) {\r\n\t\treturn <Loader/>\r\n\t}\r\n\t\r\n    return isAuth ? (\r\n        <Switch>\r\n            {privateRoutes.map((route) => (\r\n                <Route\r\n                    component={route.component}\r\n                    path={route.path}\r\n                    exact={route.exact}\r\n\t\t\t\t\tkey={route.path}\r\n                />\r\n            ))}\r\n            <Redirect to=\"/posts\" />\r\n        </Switch>\r\n    ) : (\r\n        <Switch>\r\n            {publicRoutes.map((route) => (\r\n                <Route\r\n                    component={route.component}\r\n                    path={route.path}\r\n                    exact={route.exact}\r\n\t\t\t\t\tkey={route.path}\r\n                />\r\n            ))}\r\n            <Redirect to=\"/login\" />\r\n        </Switch>\r\n    );\r\n}\r\n","import React, {useEffect, useState} from \"react\";\r\nimport \"./styles/App.css\";\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nimport { Navbar } from \"./components/UI/Navbar/Navbar\";\r\nimport { AppRouter } from \"./components/AppRouter\";\r\nimport { AuthContext } from \"./context/context\";\r\n\r\nexport default function App() {\r\n\tconst [isAuth, setIsAuth] = useState(false)\r\n\tconst [isLoading, setIsLoading] = useState(true)\r\n\r\n\tuseEffect(() => {\r\n\t\tif (localStorage.getItem('auth')) {\r\n\t\t\tsetIsAuth(true)\r\n\t\t}\r\n\t\tsetIsLoading(false)\r\n\t},[])\r\n    return (\r\n        <div className=\"app\">\r\n\t\t\t<AuthContext.Provider value={{\r\n\t\t\t\tisAuth,\r\n\t\t\t\tsetIsAuth,\r\n\t\t\t\tisLoading\r\n\t\t\t}}>\r\n\t\t\t\t<Router>\r\n\t\t\t\t\t<Navbar />\r\n\t\t\t\t\t<AppRouter />\r\n\t\t\t\t</Router>\r\n\t\t\t</AuthContext.Provider>\r\n            \r\n        </div>\r\n    );\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n    <App />,\r\n\r\n    document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}